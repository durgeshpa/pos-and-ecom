{% extends "admin/change_form.html" %}
{% load static %}
{% block admin_change_form_document_ready %}
<script type="text/javascript" >
if( $("select[id$='product']").has('option').length > 0 ) {
$("select[id$='product']").attr('disabled', true);
}
$("input[id$='po_product_quantity']").prop('readonly', true).css('border','none');
$("input[id$='po_product_price']").prop('readonly', true).css('border','none');
$("input[id$='already_grned_product']").prop('readonly', true).css('border','none');

$( "form" ).submit(function( event ) {
  $("select[id$='product']").attr('disabled', false);
});

$( "#id_invoice_date" ).datepicker({ maxDate: '0' });


      // js for decimal input check
      $(function () {
        $(document).on('keydown', 'input[id="id_invoice_amount"]', function (event) {


            if (event.shiftKey == true) {
                event.preventDefault();
            }

            if ((event.keyCode >= 48 && event.keyCode <= 57) || (event.keyCode >= 96 && event.keyCode <= 105) || event.keyCode == 8 || event.keyCode == 9 || event.keyCode == 37 || event.keyCode == 39 || event.keyCode == 46 || event.keyCode == 190) {

            } else {
                event.preventDefault();
            }
            
            if($(this).val().indexOf('.') !== -1 && event.keyCode == 190)
                event.preventDefault();

        });
      });


</script>


{% endblock %}
