{% extends "admin/change_form.html" %} {% load i18n %} 

{% block content %}
    {{ block.super }}
    <style>
        .required_field_red::after {
            content: "*";
            color: red;
            margin-left: 2px;
        }
    </style>
    <script>
        $(document).ready(function(jQuery) {
            var parent_product_div = document.getElementsByClassName("field-parent_product");
            parent_product_div[0].getElementsByTagName('div')[0].innerHTML += `<a href="/admin/products/parentproduct/add/"><img src="/static/admin/img/icon-addlink.svg" alt="Add"></a>`;
            document.getElementById('id_use_parent_image').onchange = function() {
                if ($('#id_use_parent_image').is(":checked")) {
                    $(".tabular.inline-related").first().children('fieldset').children('h2').removeClass('required_field_red');
                } else {
                    $(".tabular.inline-related").first().children('fieldset').children('h2').addClass('required_field_red');
                }
            };
            document.getElementById('id_repackaging_type').onchange = function() {
                if ($('#id_repackaging_type').val() == 'destination') {
                    $(".tabular.inline-related").last().children('fieldset').children('h2').addClass('required_field_red');
                } else {
                    $(".tabular.inline-related").last().children('fieldset').children('h2').removeClass('required_field_red');
                }
            };
        });
    </script>
{% endblock %}